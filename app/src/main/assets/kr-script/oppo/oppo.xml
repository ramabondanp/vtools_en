<?xml version="1.0" encoding="UTF-8" ?>
<items>
    <resource dir="file:///android_asset/kr-script/oppo" />
    <group>
        <switch id="installer_sacan"
            shell="hidden"
            visible="run installer_scan/support.sh">
            <title>@string:oppo_install_scan</title>
            <desc>@string:oppo_install_scan_desc</desc>
            <get>run installer_scan/get.sh</get>
            <set>run installer_scan/set.sh</set>
        </switch>
        <action shell="hidden">
            <title>@string:oppo_fix_ota</title>
            <desc>@string:oppo_fix_ota_desc</desc>
            <set>
                resetprop ro.boot.veritymode enforcing 2>/dev/null
                setprop ro.boot.veritymode enforcing 2>/dev/null
            </set>
        </action>
    </group>

    <group>
        <switch id="touch-rate" exist="/proc/touchpanel/game_switch_enable" shell="hidden"
            title="@string:oppo_game_touch"
            desc="@string:oppo_game_touch_desc">
            <get>cat /proc/touchpanel/game_switch_enable | cut -f1 -d ','</get>
            <set>echo $state > /proc/touchpanel/game_switch_enable</set>
        </switch>
        <switch shell="hidden"
            title="[Magisk] Extreme GT 4.0.0" desc="@string:extrem_gt_desc">
            <set>
                if [[ $state == 1 ]]; then
                  run extreme_gt/setup.sh
                else
                  run extreme_gt/uninstall.sh
                fi
            </set>
            <get>
                module=/data/adb/modules/extreme_gt
                if [[ -d $module ]] &amp;&amp; [[ ! -f $module/remove ]] &amp;&amp; [[ ! -f $module/disable ]]; then
                  echo 1
                fi
            </get>
        </switch>
    </group>
    <group>
        <switch id="fas" exist="/proc/game_opt/disable_cpufreq_limit" shell="hidden">
            <title>@string:oppo_cpu_limiter</title>
            <desc>@string:oppo_cpu_limiter_desc</desc>
            <get>
                if [[ $(cat /proc/game_opt/disable_cpufreq_limit) == '1' ]]; then
                  echo 0
                else
                  echo 1
                fi
            </get>
            <set>
                path=/proc/game_opt/disable_cpufreq_limit
                chmod 666 $path
                if [[ "$state" == "1" ]]; then
                  echo 0 > $path
                else
                  echo 1 > $path
                fi
                chmod 444 $path
            </set>
        </switch>
    </group>
    <group>
        <picker shell="hidden" min-sdk="34" max-sdk="36">
            <title>Animation Level</title>
            <desc>Change the ColorOS 14/15 animation level to match device performance</desc>
            <options>
                <option value="1">Standard animations</option>
                <option value="2">Basic animations (reduced blur)</option>
                <option value="3">Minimal animations (low overhead)</option>
            </options>
            <set>
                setprop persist.sys.oplus.anim_level $state
                if [[ "$state" == "3" ]]; then
                    setprop persist.sys.wallpaperanimation.enable false
                else
                    setprop persist.sys.wallpaperanimation.enable true
                fi
                killall com.android.launcher
            </set>
            <get>getprop persist.sys.oplus.anim_level</get>
        </picker>
    </group>
</items>
